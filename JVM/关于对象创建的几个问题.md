
# 1.创建对象的几种方式
**1. new 关键字创建
2. 克隆 clone
3. 类名.class.newInstance() 
  4. Class.forName("全类名").newInstance();
5. 类名.class.getConstructor().newInstance();
 6. 反序列化**

# 2.对象在JVM中分配内存的方式
1. **指针碰撞**(Bump The Pointer)
	将内存空间划分为已使用的和空闲的两部分，用一个指针来作为使用和空闲的分界，给对象分配内存时，将指针向空闲空间的方向移动与对象大小相等的距离即可，这就是指针碰撞的方式.
	指针碰撞要求内存空间是经过整理的，不是已使用和空闲交错在一起的
2. **空闲列表**(Free List)
	维护一个空闲列表，记录内存中那些是空闲的，在给对象分配内存时，从列表中找出足够的n块空间分配给对象实例，更新列表中的空闲内存
	
	
	
对象的**分配内存方式由采用的垃圾回收器**来决定：

因为指针碰撞是内存空间被划分为 使用区 和 空闲区 ，是经过压缩整理的空间，压缩整理是Serial、ParNew、Serial Old 、 ParNew Old 这些垃圾回收器的功能，使用这些垃圾回收器，系统会采用指针碰撞的分配方式

空闲列表不用整理内存，使用CMS这种基于清除算法的垃圾回收器时，只能采用空闲列表这种更复杂的方式来分配

# 3.并发情况下创建对象如何保证线程安全
并发情况下，若多个线程同时修改同一个引用变量指向的地址是不安全的

解决方式：
1. 对分配空间进行同步处理：`CAS + 失败重试` 保证原子性
2. 使用TLAB本地线程分配缓冲，把内存的分配，放在当前线程中的私有的TLAB中去，本地缓冲区若用完，新的内存分配使用同步处理
	`-XX:+/-UseTLAB`设置是否使用TLAB
